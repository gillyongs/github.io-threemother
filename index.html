<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>세모세모 섯섯시 변환기</title>
	<style>
	</style>

</head>
<body>
	<h1>세모세모 섯섯시 변환기</h1>
	<hr>
	<br>
	<img  width="500" height="600" src="threemother.png">
	<br>
	<textarea  id="before" cols="60" rows="15" style="font-size:15px;"></textarea>
	<br>
	<button onclick ='love()' style="font-size:63px;"> 변환 </button>
	<button onclick ='copy()' style="font-size:63px;"> 복사 </button>
	<button onclick ='cho()' style="font-size:64px;"> 초기화 </button>
	<br>
	<br>
	다른 변환기<br><br>
	<a href = https://gillyongs.github.io/github.io-mammummi/>네모네모 멈뭄미</a><br>
	<a href = https://gillyongs.github.io/github.io-cavecave/>동글동글 엉엉이</a><br>
	<a href = https://gillyongs.github.io/github.io-hothot/>하트하트 헣훟히</a><br>
	<a href = https://gillyongs.github.io/github.io-bibubbibub/>비븝비븝 법붑비</a>

	


<script>


var index=0;
var br = new Array();
var hc = new Array();
var hi = 0;
var el = new Array();
var ei = 0;
var ei2 = 0;


function ishangul(ch) {
  var c = ch.charCodeAt(0);
  if( 0x1100<=c && c<=0x11FF ) return true;
  if( 0x3130<=c && c<=0x318F ) return true;
  if( 0xAC00<=c && c<=0xD7A3 ) return true;
  return false;
}

function copy() {    
  var copyText = document.getElementById('before');
  copyText.select();
  copyText.setSelectionRange(0, 99999);
  document.execCommand("Copy");
  alert('복사완료');
}

function cho() {  
	index=0;
	hi = 0;
    ei = 0;
    ei2 = 0;
    br=[];
    hc=[];
    el=[];
    var chot = document.getElementById('before');
    chot.value='';
}











function aaf(kor) {

    const f = ['ㄱ', 'ㄲ', 'ㄴ', 'ㄷ', 'ㄸ', 'ㄹ', 'ㅁ',
               'ㅂ', 'ㅃ', 'ㅅ', 'ㅆ', 'ㅇ', 'ㅈ', 'ㅉ',
               'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];
    const s = ['ㅏ', 'ㅐ', 'ㅑ', 'ㅒ', 'ㅓ', 'ㅔ', 'ㅕ',
               'ㅖ', 'ㅗ', 'ㅘ', 'ㅙ', 'ㅚ', 'ㅛ', 'ㅜ',
               'ㅝ', 'ㅞ', 'ㅟ', 'ㅠ', 'ㅡ', 'ㅢ', 'ㅣ'];
    const t = ['', 'ㄱ', 'ㄲ', 'ㄳ', 'ㄴ', 'ㄵ', 'ㄶ',
               'ㄷ', 'ㄹ', 'ㄺ', 'ㄻ', 'ㄼ', 'ㄽ', 'ㄾ',
               'ㄿ', 'ㅀ', 'ㅁ', 'ㅂ', 'ㅄ', 'ㅅ', 'ㅆ',
               'ㅇ', 'ㅈ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];

    let fn=77;
    let sn=77;
    let tn=77;
    let uni = kor.charCodeAt(0);


    if(uni>=12593 && uni <12623){
    	tn=uni;
    }
    else if(uni>=12623 && uni <12644){
    	tn=uni;
    }
    
    else{
       uni = uni - 44032;
       fn = parseInt(uni / 588);
       sn = parseInt((uni - (fn * 588)) / 28);
       tn = parseInt(uni % 28);
    }

    br[index]=fn;
    br[index+1]=sn;
    br[index+2]=tn;
    index+=3

}





function love(){
	index=0;
	hi = 0;
  ei = 0;
  ei2 = 0;
  br=[];
  hc=[];
  el=[];
	var txtarea = document.getElementById('before');
	var contents = txtarea.value.replace(/(\n|\r\n)/g, '∮');
	contents = contents.replace(/ /gi, "⁂");	


	for(i=0 ; i<contents.length ; i++){	

	  if(ishangul(contents[i])){
	    	  aaf(contents[i]); 
	  }

		else if (contents[i]=="⁂"){
					br[index]="⁂";
					br[index+1]="⁂";
					br[index+2]="⁂";
					index+=3;
		}

		else if(contents[i]=="∮"){
					br[index]="∮";
					br[index+1]="∮";
					br[index+2]="∮";
					index+=3;
		}

		else{
					el[ei]=contents[i];
					br[index]="œ";
					br[index+1]="œ";
					br[index+2]="œ";
					index+=3;
					ei+=1;

        }
	}




	for (j=0 ; j<index ; j+=3){
		if(br[j]==11 || br[j]==6)
			br[j]=9;
		if(br[j+2]==21 || br[j+2]==16)
			br[j+2]=19;
		if(br[j+2]==10)
			br[j+2]=12;
		if(br[j]==77 && (br[j+2]==12615 || br[j+2]==12609))
			br[j+2]=12613;

	}




		
    for (j=0 ; j<index ; j+=3){
	    if(br[j]=="∮"){
				hc[hi]='\n';
				hi+=1
	    }
	    else if(br[j]=="⁂"){
				hc[hi]=" ";
				hi+=1
	    }
	    else if(br[j]=="œ"){
				hc[hi]=el[ei2];
				hi+=1
				ei2+=1;
	    }
	    else{
		    if(br[j]==77 && br[j+1]==77){
			    hc[hi]= String.fromCharCode(  br[j+2]  )
		    }
		    else{
			    hc[hi]= String.fromCharCode(  br[j]*588 + br[j+1]*28 + br[j+2]+44032  )
		    }
		    hi+=1;
	    }
    }





	var final = hc.join('');
		
	txtarea.value=final;

}
	</script>
</body>
</html>
